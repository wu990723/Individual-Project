
#include<stdio.h>

void hello(char one, FILE*fp, int sum )
{
    char letter;
    double num=0, ret;
    while(!feof(fp)){
        if(letter==one)
            num++;
        fscanf(fp, "%c", &letter);
        ret = fscanf(fp, "%c", &letter);
        if (ret == EOF)
            break;
    }
    printf("%c:%7.2lf %% ", one, 100*num/sum);
		printf("\n");
	    return ;
}
  
int main()
{
	int sum=0;
    FILE *fp;
    if((fp=fopen("C:\\Hello\\english.txt", "r"))==NULL){
        printf("Cannot open the file!\n");
        return -1;
    }
    //统计总数量sum 
	while(!feof(fp))
	{
	    fgetc(fp);
	    sum++;
	}
    char str[26];
    int i=0;
    str[0]='a';
    printf("所有字符出现总次数 :  %d\n",sum);
    printf("该文本中字母出现频率如下：\n");
    for (i=0; i<26; i++){
    	
        str[i] = 'a' + i;
        hello(str[i], fp,sum);
        rewind(fp);
    }
    fclose(fp);
    return 0;
}
